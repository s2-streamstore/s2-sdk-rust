# Changelog

All notable changes to this project will be documented in this file.

## [0.23.7] - 2026-02-05

### Miscellaneous Tasks

- Relax version constraint for `s2-api` and `s2-common` ([#291](https://github.com/s2-streamstore/s2-sdk-rust/issues/291))

<!-- generated by git-cliff -->

## [0.23.6] - 2026-02-04

### Bug Fixes

- Incorrect condition for retry on 409 ([#288](https://github.com/s2-streamstore/s2-sdk-rust/issues/288))

### Miscellaneous Tasks

- Update dependencies  ([#290](https://github.com/s2-streamstore/s2-sdk-rust/issues/290))

<!-- generated by git-cliff -->

## [0.23.5] - 2026-02-02

### Bug Fixes

- Violation of oneof constraint in `ReadStart` during read session retry  ([#286](https://github.com/s2-streamstore/s2-sdk-rust/issues/286))

<!-- generated by git-cliff -->

## [0.23.4] - 2026-01-31

### Miscellaneous Tasks

- Release workflow naming ([#279](https://github.com/s2-streamstore/s2-sdk-rust/issues/279))
- Dependency upgrades ([#285](https://github.com/s2-streamstore/s2-sdk-rust/issues/285))

<!-- generated by git-cliff -->

## [0.23.3] - 2026-01-27

### Bug Fixes

- Explicitly enable git tagging and releases in release-plz ([#276](https://github.com/s2-streamstore/s2-sdk-rust/issues/276))
- Rename S2_INSECURE to S2_SSL_NO_VERIFY ([#278](https://github.com/s2-streamstore/s2-sdk-rust/issues/278))

<!-- generated by git-cliff -->

## [0.23.2] - 2026-01-26

### Bug Fixes

- Have release-plz publish to crates.io directly ([#273](https://github.com/s2-streamstore/s2-sdk-rust/issues/273))

<!-- generated by git-cliff -->

## [0.23.1] - 2026-01-26

### Features

- SSL cert insecure mode ([#272](https://github.com/s2-streamstore/s2-sdk-rust/issues/272))

### Miscellaneous Tasks

- Automate releases with release-plz ([#268](https://github.com/s2-streamstore/s2-sdk-rust/issues/268))
- Add dependabot for weekly dependency updates ([#269](https://github.com/s2-streamstore/s2-sdk-rust/issues/269))

<!-- generated by git-cliff -->

## [0.23.0] - 2026-01-21

### Refactor

- [**breaking**] Make `S2Endpoints::new` accept `AccountEndpoint` and `BasinEndpoint` ([#264](https://github.com/s2-streamstore/s2-sdk-rust/issues/264))
- [**breaking**] Rename `max_inflight_*` to `max_unacked_*` in `AppendSessionConfig` ([#265](https://github.com/s2-streamstore/s2-sdk-rust/issues/265))
- [**breaking**] Rename `ignore_pending_deletions` to `include_deleted` in `ListAll*Input`s ([#266](https://github.com/s2-streamstore/s2-sdk-rust/issues/266))

## [0.22.5] - 2026-01-20

### Miscellaneous Tasks 

- SDK documentation examples + change to pagination defaults ([#262](https://github.com/s2-streamstore/s2-sdk-rust/issues/262))

## [0.22.4] - 2026-01-18

### Bug Fixes

- Terminal error propagation in append session and producer  ([#259](https://github.com/s2-streamstore/s2-sdk-rust/issues/259))

### Miscellaneous Tasks

- Bump `s2-api` and `s2-common` versions ([#260](https://github.com/s2-streamstore/s2-sdk-rust/issues/260))

## [0.22.3] - 2026-01-18

### Bug Fixes

- Racy error propagation in append session ([#257](https://github.com/s2-streamstore/s2-sdk-rust/issues/257))

### Miscellaneous Tasks

- Run tests against s2-lite ([#249](https://github.com/s2-streamstore/s2-sdk-rust/issues/249))
- Update s2-lite integration action ([#256](https://github.com/s2-streamstore/s2-sdk-rust/issues/256))

## [0.22.2] - 2026-01-15

### Bug Fixes

- Missing `CONTENT_ENCODING` header for unary requests  ([#247](https://github.com/s2-streamstore/s2-sdk-rust/issues/247))

## [0.22.1] - 2026-01-14

### Miscellaneous Tasks

- Add `parse_from` to `S2Endpoints` for internal use ([#245](https://github.com/s2-streamstore/s2-sdk-rust/issues/245))

## [0.22.0] - 2026-01-14

### Features

- [**breaking**] Migrate from `gRPC` to `REST` API ([#220](https://github.com/s2-streamstore/s2-sdk-rust/issues/220))
- [**breaking**] Add validation for `AppendSessionConfig` ([#225](https://github.com/s2-streamstore/s2-sdk-rust/issues/225))
- [**breaking**] Add `list_all_*` methods for automatic pagination  ([#235](https://github.com/s2-streamstore/s2-sdk-rust/issues/235))
- Support `start_after` in `list_all_*` ops ([#237](https://github.com/s2-streamstore/s2-sdk-rust/issues/237))
- [**breaking**] Expose `reserve` in `AppendSession`, support `reserve` in `Producer` ([#229](https://github.com/s2-streamstore/s2-sdk-rust/issues/229))
- Expose `RECORD_BATCH_MAX`  ([#242](https://github.com/s2-streamstore/s2-sdk-rust/issues/242))

### Bug Fixes

- Incorrect lexicographical order in tests ([#228](https://github.com/s2-streamstore/s2-sdk-rust/issues/228))
- Unhandled error variants in session ops ([#230](https://github.com/s2-streamstore/s2-sdk-rust/issues/230))
- Misclassification of 409 as non-retryable ([#236](https://github.com/s2-streamstore/s2-sdk-rust/issues/236))

### Refactor

- Make `RetryConfig::max_attempts` field a `NonZeroU32` as well ([#223](https://github.com/s2-streamstore/s2-sdk-rust/issues/223))
- Remove irrelevant backoff reset in unary request context ([#224](https://github.com/s2-streamstore/s2-sdk-rust/issues/224))
- [**breaking**] Restrict public items for misuse safety  ([#227](https://github.com/s2-streamstore/s2-sdk-rust/issues/227))
- [**breaking**] Make tests runnable against non-prod envs ([#231](https://github.com/s2-streamstore/s2-sdk-rust/issues/231))
- [**breaking**] Rename `ReadBeyondTail` as `ReadUnwritten`, change `read_session` return type ([#234](https://github.com/s2-streamstore/s2-sdk-rust/issues/234))
- [**breaking**] Remove `non_exhaustive` marker for enums, make `IssueAccessTokenInput` and `AccessTokenInfo` symmetrical ([#238](https://github.com/s2-streamstore/s2-sdk-rust/issues/238))
- Consume backoffs lazily  ([#239](https://github.com/s2-streamstore/s2-sdk-rust/issues/239))
- [**breaking**] Rename `streamstore` crate to `s2-sdk` ([#221](https://github.com/s2-streamstore/s2-sdk-rust/issues/221))
- Include package version in `User-Agent` header ([#243](https://github.com/s2-streamstore/s2-sdk-rust/issues/243))

### Testing

- Fix basin/stream collisions ([#241](https://github.com/s2-streamstore/s2-sdk-rust/issues/241))

### Miscellaneous Tasks

- Update license to MIT ([#222](https://github.com/s2-streamstore/s2-sdk-rust/issues/222))
- Crates.io only allows 5 keywords ([#232](https://github.com/s2-streamstore/s2-sdk-rust/issues/232))
- Add categories to Cargo manifest ([#233](https://github.com/s2-streamstore/s2-sdk-rust/issues/233))
- Bump `s2-api` and `s2-common` versions ([#240](https://github.com/s2-streamstore/s2-sdk-rust/issues/240))

## [0.21.0] - 2025-09-11

### Miscellaneous Tasks

- Upgrade to tonic & prost 0.14 ([#212](https://github.com/s2-streamstore/s2-sdk-rust/issues/212))

## [0.20.0] - 2025-09-03

### Features

- Support `Infinite` retention policy ([#209](https://github.com/s2-streamstore/s2-sdk-rust/issues/209))

## [0.19.2] - 2025-08-13

### Bug Fixes

- Append session assertion failure ([#206](https://github.com/s2-streamstore/s2-sdk-rust/issues/206))

## [0.19.1] - 2025-07-28

### Miscellaneous Tasks

- Renaming DeleteOnEmpty -> DeleteOnEmptyConfig ([#202](https://github.com/s2-streamstore/s2-sdk-rust/issues/202))

## [0.19.0] - 2025-07-24

### Features

- Delete-on-empty ([#199](https://github.com/s2-streamstore/s2-sdk-rust/issues/199))

### Miscellaneous Tasks

- Fixes to delete-on-empty impl ([#200](https://github.com/s2-streamstore/s2-sdk-rust/issues/200))

### Release

- 0.18.0 ([#198](https://github.com/s2-streamstore/s2-sdk-rust/issues/198))

## [0.18.0] - 2025-07-22

### Features

- Clamp ([#197](https://github.com/s2-streamstore/s2-sdk-rust/issues/197))

## [0.17.0] - 2025-06-06

### Features

- `until` timestamp in reads + new metrics op types ([#193](https://github.com/s2-streamstore/s2-sdk-rust/issues/193))

### Miscellaneous Tasks

- Derive `PartialEq`, `Eq`, `Hash` on stringy newtypes ([#191](https://github.com/s2-streamstore/s2-sdk-rust/issues/191))

## [0.16.2] - 2025-05-25

### Features

- Impl `FromStr` / `Display` for `FencingToken` ([#189](https://github.com/s2-streamstore/s2-sdk-rust/issues/189))

## [0.16.1] - 2025-05-25

## [0.16.0] - 2025-05-25

### Features

- [**breaking**] Fencing token is now a string ([#185](https://github.com/s2-streamstore/s2-sdk-rust/issues/185))

## [0.15.0] - 2025-05-10

### Features

- Retry on `ResourceExhausted` and use `retry-after` if present  ([#177](https://github.com/s2-streamstore/s2-sdk-rust/issues/177))

## [0.14.0] - 2025-05-08

### Features

- Timestamping config and refactoring of type conversion ([#179](https://github.com/s2-streamstore/s2-sdk-rust/issues/179))

### Miscellaneous Tasks

- Dependency upgrades ([#180](https://github.com/s2-streamstore/s2-sdk-rust/issues/180))

## [0.13.0] - 2025-04-30

### Features

- [**breaking**] Updated read APIs ([#174](https://github.com/s2-streamstore/s2-sdk-rust/issues/174))

## [0.12.0] - 2025-04-18

### Features

- [**breaking**] Remove `ReadOutput::FirstSeqNum` ([#169](https://github.com/s2-streamstore/s2-sdk-rust/issues/169))

### Bug Fixes

- Access token example ([#168](https://github.com/s2-streamstore/s2-sdk-rust/issues/168))

### Miscellaneous Tasks

- Add missing builders ([#170](https://github.com/s2-streamstore/s2-sdk-rust/issues/170))
- Dependency upgrades ([#171](https://github.com/s2-streamstore/s2-sdk-rust/issues/171))

## [0.11.0] - 2025-04-15

### Features

- Access token methods [S2-758] ([#163](https://github.com/s2-streamstore/s2-sdk-rust/issues/163))

## [0.10.0] - 2025-03-19

### Features

- [**breaking**] Timestamped records  ([#157](https://github.com/s2-streamstore/s2-sdk-rust/issues/157))

## [0.9.0] - 2025-03-12

### Features

- Configurable option for compression ([#151](https://github.com/s2-streamstore/s2-sdk-rust/issues/151))

### Miscellaneous Tasks

- Upgrade proto ([#153](https://github.com/s2-streamstore/s2-sdk-rust/issues/153))
- Proto update ([#154](https://github.com/s2-streamstore/s2-sdk-rust/issues/154))

## [0.8.2] - 2025-02-07

### Bug Fixes

- Retry CANCELLED gRPC status code ([#149](https://github.com/s2-streamstore/s2-sdk-rust/issues/149))

## [0.8.1] - 2025-02-05

### Features

- Enable compression ([#147](https://github.com/s2-streamstore/s2-sdk-rust/issues/147))

## [0.8.0] - 2025-01-21

### Bug Fixes

- Respect limits with read session resumption ([#139](https://github.com/s2-streamstore/s2-sdk-rust/issues/139))

### Miscellaneous Tasks

- Make `with_limit()` take option ([#145](https://github.com/s2-streamstore/s2-sdk-rust/issues/145))

## [0.7.0] - 2025-01-16

### Miscellaneous Tasks

- Update proto ([#135](https://github.com/s2-streamstore/s2-sdk-rust/issues/135))

## [0.6.0] - 2025-01-13

### Documentation

- Update README link for docs.rs ([#128](https://github.com/s2-streamstore/s2-sdk-rust/issues/128))

### Miscellaneous Tasks

- Update proto ([#129](https://github.com/s2-streamstore/s2-sdk-rust/issues/129))
- Default impl for AppendInput ([#130](https://github.com/s2-streamstore/s2-sdk-rust/issues/130))
- Update protos ([#133](https://github.com/s2-streamstore/s2-sdk-rust/issues/133))

## [0.5.1] - 2024-12-20

### Documentation

- Update S2 doc links ([#126](https://github.com/s2-streamstore/s2-sdk-rust/issues/126))

## [0.5.0] - 2024-12-19

### Documentation

- `batching` module Rust docs ([#119](https://github.com/s2-streamstore/s2-sdk-rust/issues/119))
- Update basin and stream names ([#122](https://github.com/s2-streamstore/s2-sdk-rust/issues/122))
- Update README API link ([#123](https://github.com/s2-streamstore/s2-sdk-rust/issues/123))
- `s2::client` ([#121](https://github.com/s2-streamstore/s2-sdk-rust/issues/121))
- Crate level documentation ([#124](https://github.com/s2-streamstore/s2-sdk-rust/issues/124))

### Miscellaneous Tasks

- Rename `[lib]` to `s2` ([#120](https://github.com/s2-streamstore/s2-sdk-rust/issues/120))
- *(release)* 0.5.0

## [0.4.1] - 2024-12-17

### Bug Fixes

- Deadlock potential due to `await`s in append_session's `select!` loop ([#115](https://github.com/s2-streamstore/s2-sdk-rust/issues/115))

## [0.4.0] - 2024-12-16

### Features

- Add `FencingToken::generate` method ([#110](https://github.com/s2-streamstore/s2-sdk-rust/issues/110))
- Return `StreamInfo` from `BasinClient::create_stream` ([#114](https://github.com/s2-streamstore/s2-sdk-rust/issues/114))

### Miscellaneous Tasks

- Remove `GH_TOKEN` use to clone submodule in CI ([#109](https://github.com/s2-streamstore/s2-sdk-rust/issues/109))
- Proto up-to-date check ([#112](https://github.com/s2-streamstore/s2-sdk-rust/issues/112))
- Upgrade proto ([#111](https://github.com/s2-streamstore/s2-sdk-rust/issues/111))
- Add examples for API ([#113](https://github.com/s2-streamstore/s2-sdk-rust/issues/113))
- Add `README.md` ([#116](https://github.com/s2-streamstore/s2-sdk-rust/issues/116))

## [0.3.1] - 2024-12-12

### Miscellaneous Tasks

- Switch on `missing_docs` ([#106](https://github.com/s2-streamstore/s2-sdk-rust/issues/106))

## [0.3.0] - 2024-12-11

### Features

- Return reconfigured stream ([#95](https://github.com/s2-streamstore/s2-sdk-rust/issues/95))
- Implement `SequencedRecord::as_command_record` ([#96](https://github.com/s2-streamstore/s2-sdk-rust/issues/96))
- Make protoc requirement optional ([#103](https://github.com/s2-streamstore/s2-sdk-rust/issues/103))

### Bug Fixes

- Tonic-side-effect version ([#102](https://github.com/s2-streamstore/s2-sdk-rust/issues/102))

### Miscellaneous Tasks

- Update proto and associated types for non-optional `start_seq_num` ([#97](https://github.com/s2-streamstore/s2-sdk-rust/issues/97))
- `CommandRecord::Fence` requires `FencingToken` even if empty ([#98](https://github.com/s2-streamstore/s2-sdk-rust/issues/98))
- Rm serde ([#99](https://github.com/s2-streamstore/s2-sdk-rust/issues/99))
- Lower `max_append_inflight_bytes` default
- Move sync_docs to separate repository ([#101](https://github.com/s2-streamstore/s2-sdk-rust/issues/101))

## [0.2.0] - 2024-12-04

### Features

- Redo endpoint logic ([#39](https://github.com/s2-streamstore/s2-sdk-rust/issues/39)) ([#40](https://github.com/s2-streamstore/s2-sdk-rust/issues/40))
- Metered_size impl ([#51](https://github.com/s2-streamstore/s2-sdk-rust/issues/51))
- Allow custom tonic connectors & expose more errors ([#54](https://github.com/s2-streamstore/s2-sdk-rust/issues/54))
- Implement lingering for append record stream ([#55](https://github.com/s2-streamstore/s2-sdk-rust/issues/55))
- Read session resumption ([#64](https://github.com/s2-streamstore/s2-sdk-rust/issues/64))
- Pre-validate append record batch ([#72](https://github.com/s2-streamstore/s2-sdk-rust/issues/72))
- Retryable `append_session` + side-effect logic
- Validate fencing token length ([#87](https://github.com/s2-streamstore/s2-sdk-rust/issues/87))
- S2_request_token header (exercise idempotence) ([#86](https://github.com/s2-streamstore/s2-sdk-rust/issues/86))

### Bug Fixes

- Only connect lazily (remove option to connect eagerly) ([#49](https://github.com/s2-streamstore/s2-sdk-rust/issues/49))
- Update `HostEndpoints::from_env` with new spec ([#58](https://github.com/s2-streamstore/s2-sdk-rust/issues/58))
- Add Send bound to Streaming wrapper ([#63](https://github.com/s2-streamstore/s2-sdk-rust/issues/63))
- Validate append input when converting from sdk type to api ([#65](https://github.com/s2-streamstore/s2-sdk-rust/issues/65))
- Limit retries when read resumes but stream keeps erroring ([#66](https://github.com/s2-streamstore/s2-sdk-rust/issues/66))
- Retry on deadline exceeded ([#67](https://github.com/s2-streamstore/s2-sdk-rust/issues/67))
- Remove `ConnectionError` in favour of pre-processing ([#68](https://github.com/s2-streamstore/s2-sdk-rust/issues/68))
- Rename 'max_retries' to 'max_attempts'
- Validate `types::AppendRecord` for metered size ([#79](https://github.com/s2-streamstore/s2-sdk-rust/issues/79))
- Adapt to recent gRPC interface updates ([#84](https://github.com/s2-streamstore/s2-sdk-rust/issues/84))
- Use `if_exists` for delete basin/stream ([#85](https://github.com/s2-streamstore/s2-sdk-rust/issues/85))
- `append_session` inner loop while condition ([#91](https://github.com/s2-streamstore/s2-sdk-rust/issues/91))

### Documentation

- ConnectError

### Testing

- `fencing_token` and `match_seq_num` for `AppendRecordsBatchStream` ([#77](https://github.com/s2-streamstore/s2-sdk-rust/issues/77))

### Miscellaneous Tasks

- Rename `ClientError` to `ConnectError` ([#47](https://github.com/s2-streamstore/s2-sdk-rust/issues/47))
- Make `ReadLimit` fields pub
- Add clippy to CI ([#50](https://github.com/s2-streamstore/s2-sdk-rust/issues/50))
- Expose Aborted as an error variant ([#52](https://github.com/s2-streamstore/s2-sdk-rust/issues/52))
- Expose tonic Internal error message ([#53](https://github.com/s2-streamstore/s2-sdk-rust/issues/53))
- Refactor errors to return tonic::Status ([#57](https://github.com/s2-streamstore/s2-sdk-rust/issues/57))
- Conversion from `HostCloud` for `HostEndpoints` ([#59](https://github.com/s2-streamstore/s2-sdk-rust/issues/59))
- Rm unneeded async ([#62](https://github.com/s2-streamstore/s2-sdk-rust/issues/62))
- Create LICENSE
- Update Cargo.toml with license
- Update license for sync_docs
- Add expect messages instead of unwraps ([#69](https://github.com/s2-streamstore/s2-sdk-rust/issues/69))
- Make `ClientConfig` fields private + revise docs ([#73](https://github.com/s2-streamstore/s2-sdk-rust/issues/73))
- Whoops, max_attempts -> with_max_attempts
- Endpoints re-rejig ([#70](https://github.com/s2-streamstore/s2-sdk-rust/issues/70))
- Add back `S2Endpoints::from_env()` ([#74](https://github.com/s2-streamstore/s2-sdk-rust/issues/74))
- Example from_env
- Assertions instead of errors for batch capacity & size ([#75](https://github.com/s2-streamstore/s2-sdk-rust/issues/75))
- Simplify s2_request_token creation
- Remove `bytesize` dependency ([#89](https://github.com/s2-streamstore/s2-sdk-rust/issues/89))
- Update proto ([#93](https://github.com/s2-streamstore/s2-sdk-rust/issues/93))

## [0.1.0] - 2024-11-06

### Features

- Implement `BasinService/{ListStreams, GetBasinConfig}` ([#3](https://github.com/s2-streamstore/s2-sdk-rust/issues/3))
- Implement `BasinService/{CreateStream, GetStreamConfig}` ([#8](https://github.com/s2-streamstore/s2-sdk-rust/issues/8))
- Implement `AccountService/{ListBasins, DeleteBasin}` ([#10](https://github.com/s2-streamstore/s2-sdk-rust/issues/10))
- Implement `BasinService` ([#12](https://github.com/s2-streamstore/s2-sdk-rust/issues/12))
- Add request timeout ([#14](https://github.com/s2-streamstore/s2-sdk-rust/issues/14))
- Display impl for types::BasinState ([#18](https://github.com/s2-streamstore/s2-sdk-rust/issues/18))
- Implement `StreamService` (complete) ([#16](https://github.com/s2-streamstore/s2-sdk-rust/issues/16))
- Implement `AppendRecordStream` with batching support ([#24](https://github.com/s2-streamstore/s2-sdk-rust/issues/24))
- Enable tls config and make connection uri depend on env ([#25](https://github.com/s2-streamstore/s2-sdk-rust/issues/25))
- Doc reuse ([#32](https://github.com/s2-streamstore/s2-sdk-rust/issues/32))
- Support for overriding user-agent ([#33](https://github.com/s2-streamstore/s2-sdk-rust/issues/33))
- Sync rpc - sdk wrapper docs ([#34](https://github.com/s2-streamstore/s2-sdk-rust/issues/34))

### Bug Fixes

- Use usize for ListBasins ([#15](https://github.com/s2-streamstore/s2-sdk-rust/issues/15))
- Make all errors public ([#20](https://github.com/s2-streamstore/s2-sdk-rust/issues/20))

### Miscellaneous Tasks

- Update proto submodule ([#7](https://github.com/s2-streamstore/s2-sdk-rust/issues/7))
- Replace url with http::uri::Uri ([#6](https://github.com/s2-streamstore/s2-sdk-rust/issues/6))
- Update `HAS_NO_SIDE_EFFECTS` to `IDEMPOTENCY_LEVEL` ([#11](https://github.com/s2-streamstore/s2-sdk-rust/issues/11))
- FromStr impl to convert str to StorageClass enum ([#13](https://github.com/s2-streamstore/s2-sdk-rust/issues/13))
- Move `get_basin_config`, `reconfigure_basin` to `AccountService` ([#17](https://github.com/s2-streamstore/s2-sdk-rust/issues/17))
- Remove usage of deprecated `tonic_build` method ([#21](https://github.com/s2-streamstore/s2-sdk-rust/issues/21))
- Add+feature-gate serde Serialize/Deserialize derives ([#22](https://github.com/s2-streamstore/s2-sdk-rust/issues/22))
- Deps
- Updated repo for proto submodule ([#38](https://github.com/s2-streamstore/s2-sdk-rust/issues/38))
- Http2 adaptive window [S2-412] ([#41](https://github.com/s2-streamstore/s2-sdk-rust/issues/41))
- Add CI action ([#44](https://github.com/s2-streamstore/s2-sdk-rust/issues/44))
- Add release action ([#45](https://github.com/s2-streamstore/s2-sdk-rust/issues/45))

<!-- generated by git-cliff -->
